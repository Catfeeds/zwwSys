/**
+-------------------------------------------------------------------
* jQuery hDialog - 多功能弹出层插件
+-------------------------------------------------------------------
* @version 2.0.3
* @update 2017.11.02
* @author haibao <hhb219@163.com> <http://www.hehaibao.com/>
+-------------------------------------------------------------------
*/
(function(c,r,t,u){var p=c(t),n=c(r),l=c("body"),g={op:{},init:function(b){return this.each(function(){var a=c(this),d=a.data("hdialog"),d=c.extend({},{title:"",box:"#HBox",boxBg:"#ffffff",modalBg:"rgba(0,0,0,0.5)",width:300,height:270,positions:"center",effect:"zoomOut",hideTime:0,modalHide:!0,isOverlay:!0,escHide:!0,autoShow:!1,autoHide:!1,types:1,iframeSrc:"",iframeId:"iframeHBox",beforeShow:function(){},afterHide:function(){}},b);a.data("hdialog",d);if(d.autoShow)g.op=d,g.open(a);else a.off("click").on("click",
function(b){g.op=d;g.open(a)});d.autoHide&&g.close()})},open:function(b){var a=this.op,d,e,f,h,k,m=overlayTpl=iframeTpl="",q=a.autoShow?b:c(a.box);d=parseInt(a.width);e=parseInt(a.height);k=""+parseInt(-(e/2))+"px 0 0 "+parseInt(-(d/2))+"px";a.beforeShow&&this.fire.call(this,a.beforeShow,event);switch(a.positions){case "top":f=0;h="50%";k="0 0 0 "+parseInt(-(d/2))+"px";break;case "left":f=h=k=0;break;case "bottom":f=parseInt(n.height()-e)+"px";h=parseInt(n.width()-d)+"px";k=0;break;default:f=h="50%"}a.isOverlay&&
!c("#HOverlay").length&&(overlayTpl="<div id='HOverlay' style='width:"+p.width()+"px;height:"+p.height()+"px;background-color:"+a.modalBg+";position:fixed;top:0;left:0;z-index:9999;'></div>");""==a.title||c("#HTitle").length||(m='<div id="HTitle">'+a.title+'</div> <a id="HCloseBtn" title="\u5173\u95ed"><span>&times;</span></a>');2==a.types&&(iframeTpl='<iframe id="'+a.iframeId+'" width="'+d+'" height="'+e+'" frameborder="0" scrolling="auto" src="'+a.iframeSrc+'"></iframe>');l.stop().append(overlayTpl).find(q).css({backgroundColor:a.boxBg,
position:"fixed",top:f,left:h,zIndex:999999,margin:k,width:d,height:e}).removeAttr("class").addClass("animated "+b.attr("class")).prepend(m+iframeTpl).show();q.modalHide?c("#HOverlay, #HCloseBtn"):c("#HCloseBtn").off("click").on("click",function(){g.close()});0!=a.hideTime&&setTimeout(function(){g.close()},parseInt(a.hideTime));a.escHide&&p.off("keyup").on("keyup",function(){27===event.keyCode&&g.close()})},close:function(){var b=this.op,a=c(b.box);a.removeAttr("class").addClass("animated "+b.effect);
a.hasClass(b.effect)&&setTimeout(function(){a.removeAttr("style").hide()},300);c("#HOverlay, #HTitle, #"+b.iframeId).remove();b.afterHide&&this.fire.call(this,b.afterHide,event)},fire:function(b,a){if(c.isFunction(b))return b.call(this,a)}};c.fn.hDialog=function(b){return g[b]?g[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==typeof b&&b?(c.error("Error! Method"+b+"does not exist on jQuery.hDialog\uff01"),this):g.init.apply(this,arguments)};c.extend({showLoading:function(b,a,d){b=
b?b:"\u6b63\u5728\u52a0\u8f7d...";a=a?parseInt(a):140;d=d?parseInt(d):48;var e=""+parseInt(-(d/2))+"px 0 0 "+parseInt(-(a/2))+"px";c("#HLoading").remove();l.stop().append('<div id="HLoading" style="width:'+a+"px;height:"+d+"px;line-height:"+d+"px;border-radius:4px;background:rgba(0,0,0,0.6);color:#fff;text-align:center;position:fixed;top:50%;left:50%;margin:"+e+';">'+b+'<a style="position:absolute;top:-5px;right:-5px;width:15px;height:15px;line-height:15px;display:inline-block;border-radius:50%;text-align:center;background-color:rgba(0,0,0,0.5);color:#fff;font-size:10px;" href="javascript:;" id="closeBtn">X</a></div>');
c("#closeBtn").on("click",function(){c.hideLoading()})},hideLoading:function(){c("#HLoading").remove()},tooltip:function(b,a,d,e){var f="",h=f="";b=b?b:"Error...";a=a?parseInt(a):3E3;d?(f="fadeInDown",h="#5cb85c"):(f="shake",h="#D84C31");f='<div class="HTooltip animated '+f+'" style="width:280px;padding:10px;text-align:center;background-color:'+h+';color:#fff;position:fixed;top:10px;left:50%;z-index:100001;margin-left:-150px;box-shadow:1px 1px 5px #333;-webkit-box-shadow:1px 1px 5px #333;">'+b+"</div>";
0==l.find(".toast-box").length?l.stop().append(f):c(".HTooltip").remove();setTimeout(function(){setTimeout(function(){c(".HTooltip").remove();e&&g.fire.call(this,e)},1E3)},a)},goTop:function(b,a){b=b?b:"30px";a=a?a:"20px";c("#HGoTop").remove();l.stop().append('<a id="HGoTop" href="javascript:;" style="width:40px;height:40px;line-height:40px;border-radius:50%;display:inline-block;text-align:center;background:#333;color:#fff;position:fixed;bottom:'+b+";right:"+a+';z-index:100000;">Top</a>').find("#HGoTop").hide();
$T=c("#HGoTop");n.on("scroll",function(){150<n.scrollTop()?$T.removeAttr("class").addClass("animated rollIn").show():$T.removeAttr("class").addClass("animated rollOut")});$T.on("click",function(){c("body,html").animate({scrollTop:0},500)})},dialog:function(b,a,d,e,f){var h,k="",m="";b=void 0!=b?b:"alert";e=void 0!=e?parseInt(e):0;"confirm"===b&&(m='<div id="hDialog-footer" style="padding:10px;border-top:1px solid #ddd;text-align:right;"><a href="javascript:;" style="padding:5px 10px;display:inline-block;border-radius:3px;background-color:#337ab7;color:#fff;" id="h_ok">\u786e\u5b9a</a><a href="javascript:;" style="padding:5px 10px;display:inline-block;border-radius:3px;margin-left:10px;background-color:#eee;color:#333;" id="h_cancel">\u53d6\u6d88</a></div>');
k=k+'<div id="hDialog-mask" style="width:100%;height:100%;background-color:rgba(0,0,0,0.6);position:fixed;top:0;left:0;z-index:99999;"></div>'+('<div id="hDialog-wrap" class="animated fadeIn" style="width:260px;border-radius:5px;box-shadow:4px 4px 10px #666;-webkit-box-shadow:4px 4px 10px #666;background-color:#ffffff;border:1px solid #eee;position:fixed;top:35%;left:50%;margin:0 0 0 -130px;z-index:100000;">'+('<div id="hDialog-header" style="border-bottom:1px solid #ddd;padding:10px;font-size:1.2em;color:#333;">'+
a+"</div>")+('<div id="hDialog-content" style="padding:25px 15px;text-align:center;">'+d+"</div>")+m+"</div>");c("#hDialog-wrap, #hDialog-mask").remove();l.stop().append(k);0!==e&&(clearTimeout(h),h=setTimeout(function(){c.closeDialog(f)},e));c("a:contains(\u786e\u5b9a)").on("click",function(){f&&g.fire.call(this,f)});c("a:contains(\u53d6\u6d88)").on("click",function(){c.closeDialog()})},closeDialog:function(b){c("#hDialog-wrap, #hDialog-mask").remove();b&&g.fire.call(this,b)}})})(jQuery,window,document);